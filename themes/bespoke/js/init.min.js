document.querySelectorAll('input[type="radio"]').forEach(e => {
    e.addEventListener("change", e => {
        e = e.target.value;
        document.querySelector("#review-rating").setAttribute("value", e)
    })
}), $(document).ready(function() {
    $("#reviews-form").on("submit", function() {
        var t = $(this);
        return $.post($(this).attr("action"), $(this).serialize() + "&btn_post_review=", function(e) {
            console.log(e);
            e = $.parseJSON(e);
            if (0 < Object.keys(e.errors).length)
                for (var r in t.find(":input").each(function() {
                        $(this).attr("name") in e.errors ? $(this).addClass("error") : $(this).removeClass("error")
                    }), e.errors) {
                    t.find("#message").addClass("error").html(e.errors[r]);
                    break
                } else {
                    for (var r in t.find(":input").each(function() {
                            $(this).removeClass("error")
                        }), e.values) t.find("[name=" + r + "]").val(e.values[r]);
                    t.find("#message").removeClass("error").addClass("success").html("Your review has been submitted!")
                }
        }), !1
    })
});